# "선입선출!"

이라는 단어는 생과일 주스집에서 알바할 때 귀에 딱지가 앉도록 들었던 말이다. 먼저 만든 주스가 먼저 팔리는 것. 그렇지 않으면 오래된 주스들은 다 폐기해야하기 때문이다.
스택 자료구조는 이와 정반대인 무언가를 나타낼 때 쓰인다. 들어간 순서가 빠를수록 나중에 나와야한다. 대체 이런걸 어디다 써먹을 수 있을까?

### What for?

생각보다 멀지 않은 곳에서 예시를 찾을 수 있었다.

- 보통 ctrl + Z로 쓸 수 있는 실행 취소 기능 및 인터넷 브라우저의 뒤로가기 기능
- function call
  - 이걸 왜 잊고있었는지 모르겠지만... 함수 하나가 불려질 때마다 실행에 필요한 데이터가 쌓이는 메모리 공간은 이름부터 "Call Stack"이다.
- expression conversion
  - infix => postfix, infix => prefix, postfix => infix, prefix => infix 등 표기법을 바꿀 때 스택이 사용된다.
    - 이 표기법들은 계산기를 구현할 때 쓰일뿐만 아니라, 컴파일러도 사용하고 있다.
      - 우리가 infix 표기법을 사용해 만들어낸 수식들을 postfix로 바꾼 뒤 그 결과를 계산한다. (물론 계산기는 구현하기 나름이다. prefix로도 가능하다.)

# ADT

| 이름               | 동작                                                                               |
| ------------------ | ---------------------------------------------------------------------------------- |
| top                | 스택의 마지막 원소를 가리키는 포인터 혹은 인덱스 값. 원소나 공간 그 자체는 아니다. |
| Init               | 새 스택을 하나 만든다.                                                             |
| Push               | 스택의 끝에 원소 하나를 추가한다. 즉, 스택의 길이가 1 증가한다.                    |
| Pop                | 스택의 끝에 있던 원소 하나를 빼고 그 값을 return한다.                              |
| Peek               | 스택의 끝에 있는 원소가 무엇인지 알려준다.                                         |
| (optional) isEmpty | 스택이 비어있는지 확인한다.                                                        |

주의할 점은, Pop 연산의 결과값으로 맨 끝에 있던 원소를 돌려준다는 사실이다. 원소를 돌려주지 않고 스택의 길이만 줄어드는 것이 아니다.

# 구현

구현 방식은 사용하는 자료구조에 따라 2가지로 나눌 수 있다.

### with an Array

스택 구조체를 다음과 같이 정의하는 방식이다.

```C++
typedef struct StackStruct {
    DataType arr[STACK_LENGTH];
    int top_index;
} Stack;
```

- 삽입, 삭제 연산은 `top_index`가 가리키는 곳에서 일어난다.
- 비어있는지 확인할 때에도 `top_index`를 사용하면 된다.
  - 보통, 이 값이 -1인 경우에 비었다고 판단한다.

### with a Linked List

이번에는 링크드리스트를 사용한다. 이 때는 그냥 헤드만 가지고 다니면 저절로 스택을 갖고 다니는 것이 된다.

```C++
typedef struct StackStruct {
    Node head;
} Stack;
```

- 삽입, 삭제 연산은 `head`가 가리키는 곳에서 일어난다.
- 비어있는지 확인할 때에도 `head`를 사용하면 된다.
  - `head->next`가 NULL인 경우 빈 스택이라고 판단한다.

### 비교

- List.md에서 정리한 장단점을 그대로 들고오는 것과 마찬가지!
